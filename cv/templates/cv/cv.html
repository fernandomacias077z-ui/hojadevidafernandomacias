<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        @page {
            size: a4 portrait;
            margin: 2cm;
        }
        body {
            font-family: Helvetica, sans-serif;
            font-size: 12px;
            color: #333333;
            line-height: 1.5;
        }
        
        /* HEADER */
        .header-table { width: 100%; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 15px; }
        h1 { font-size: 24px; text-transform: uppercase; color: #000; margin: 0; }
        h2 { font-size: 14px; color: #555; font-weight: normal; margin: 5px 0; }
        .contact-info { color: #666; font-size: 10px; }
        
        /* SECCIONES */
        .section-title {
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            color: #000;
            border-bottom: 1px solid #ccc;
            padding-top: 15px;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }
        
        /* ITEMS */
        .item-row { margin-bottom: 15px; }
        .item-head { font-weight: bold; font-size: 12px; color: #000; }
        .item-sub { font-style: italic; color: #444; font-size: 11px; }
        .item-date { color: #666; font-size: 10px; text-align: right; float: right; }
        .item-desc { text-align: justify; margin-top: 5px; font-size: 11px; }
        
        /* UTILIDADES */
        .tag { background-color: #eee; padding: 2px 5px; border-radius: 3px; font-size: 9px; }
    </style>
</head>
<body>

    {% if perfil %}
    <table class="header-table">
        <tr>
            <td valign="top">
                <h1>{{ perfil.nombre }} {{ perfil.apellido }}</h1>
                <h2>{{ perfil.profesion }}</h2>
                <div class="contact-info">
                    {{ perfil.email }} | {{ perfil.telefono }}<br>
                    {{ perfil.ubicacion }}
                </div>
                <div style="margin-top: 10px; font-size: 11px;">
                    {{ perfil.resumen }}
                </div>
            </td>
            {% if perfil.foto %}
            <td width="100" align="right" valign="top">
                <img src="{{ perfil.foto.path }}" style="width: 80px; height: 80px; border-radius: 50%;">
            </td>
            {% endif %}
        </tr>
    </table>
    {% endif %}

    {% if experiencia %}
    <div class="section-title">Experiencia Laboral</div>
    {% for exp in experiencia %}
    <div class="item-row">
        <div>
            <span class="item-head">{{ exp.cargo }}</span>
            <span class="item-date">
                {{ exp.fecha_inicio|date:"M Y" }} - 
                {% if exp.fecha_fin %}{{ exp.fecha_fin|date:"M Y" }}{% else %}Actualidad{% endif %}
            </span>
        </div>
        <div class="item-sub">{{ exp.empresa }}</div>
        <div class="item-desc">{{ exp.descripcion|linebreaksbr }}</div>
    </div>
    {% endfor %}
    {% endif %}

    {% if educacion %}
    <div class="section-title">Formación Académica</div>
    {% for edu in educacion %}
    <div class="item-row">
        <div>
            <span class="item-head">{{ edu.titulo }}</span>
            <span class="item-date">{{ edu.fecha|date:"Y" }}</span>
        </div>
        <div class="item-sub">{{ edu.institucion }}</div>
        <div class="item-desc">{{ edu.descripcion }}</div>
    </div>
    {% endfor %}
    {% endif %}

    {% if proyectos %}
    <div class="section-title">Proyectos</div>
    {% for proy in proyectos %}
    <div class="item-row">
        <div>
            <span class="item-head">{{ proy.titulo }}</span>
        </div>
        <div class="item-sub">{{ proy.subtitulo }}</div>
        <div class="item-desc">{{ proy.descripcion }}</div>
        <div style="margin-top: 3px;">
            <span class="tag">Stack: {{ proy.tecnologias }}</span>
        </div>
    </div>
    {% endfor %}
    {% endif %}

    {% if certificados %}
    <div class="section-title">Certificaciones</div>
    {% for cert in certificados %}
    <div class="item-row">
        <div>
            <span class="item-head">{{ cert.titulo }}</span>
            <span class="item-date">{{ cert.fecha|date:"M Y" }}</span>
        </div>
        <div class="item-sub">{{ cert.institucion }}</div>
    </div>
    {% endfor %}
    {% endif %}

</body>
</html>